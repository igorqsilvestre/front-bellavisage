<header>
    <app-cabecalho class="cabecalho"></app-cabecalho>
</header>
<main>
  <section class="sessao-principal">
    <h2 class="titulo">Pagamentos</h2>
      <div class="button-direcionamentoCadastrar">
        <button type="submit" routerLink="novo-pagamento">Cadastrar Pagamento</button>
      </div>
        <div class="campo-pagamentos">

          <h2 class="titulo-tabela">Listagem dos Pagamentos</h2>

          <p-table
            #dtListagemPagamentos
            dataKey="id"
            [value]="pagamentos"
            [tableStyle]="{ 'min-width': '50rem' }"
            [globalFilterFields]="[
                'name',
            ]"
            editMode="row"
          >


            <ng-template pTemplate="header">
                <tr>
                    <th>Data e Horário</th>
                    <th>Nome</th>
                    <th>Tratamento</th>
                    <th>Preço</th>
                    <th>Formas de Pagamento</th>
                    <th>Status</th>
                    <th>Ações</th>

                </tr>
                <tr>

                  <th>
                      <p-columnFilter
                          type="date"
                          field="data"
                          placeholder="Search by data"
                          ariaLabel="Filter data" />
                  </th>
                  <th>
                      <p-columnFilter
                          type="text"
                          field="nome"
                          placeholder="Search by nome"
                          ariaLabel="Filter nome" />
                  </th>

                  <th>
                    <p-columnFilter
                        type="text"
                        field="tratamento"
                        placeholder="Search by tratamento"
                        ariaLabel="Filter tratamento" />
                  </th>

                  <th>
                    <p-columnFilter
                        type="preco"
                        field="preco"
                        placeholder="Search by preco"
                        ariaLabel="Filter preco" />
                  </th>

                  <th>
                    <p-columnFilter
                        type="text"
                        field="formasPagamento"
                        placeholder="Search by formasPagamento"
                        ariaLabel="Filter formasPagamento" />
                  </th>
                  <th>
                    <p-columnFilter
                        type="text"
                        field="status"
                        placeholder="Search by status"
                        ariaLabel="Filter status" />
                  </th>
                  <th></th>
            </tr>
            </ng-template>
            <ng-template pTemplate="body" let-pagamento  let-editing="editing" let-ri="rowIndex">

                <tr>
                    <td>{{ pagamento.data }}, {{ pagamento.hora }}</td>
                    <td>{{ pagamento.agendamento.paciente.nome }}</td>
                    <td>{{ pagamento.agendamento.tratamento.nome }}</td>
                    <td>{{ pagamento.agendamento.valor }}</td>
                    <td>{{ pagamento.formaDePagamento}}</td>
                    <td>{{ pagamento.statusPagamento}}</td>
                    <th>
                      <button
                    (click)="editarCadastro(pagamento)"
                      >
                        <fa-icon [icon]="faEdit"></fa-icon>
                      </button>

                      <button
                      (click)="cancelarCadastro(pagamento)"
                      >
                        <fa-icon [icon]="faTrash"></fa-icon>

                     </button>

                    </th>

                </tr>
            </ng-template>
        </p-table>

        </div>
  </section>
</main>

<footer>
  <app-rodape></app-rodape>
</footer>

