<header>
  <app-cabecalho class="cabecalho" barraNavegacao="visualizarBarraNav"></app-cabecalho>
</header>
<main>
  <section class="sessao-principal">
    <h2 class="titulo">Gerenciar Pacientes</h2>
      <div class="button-direcionamentoCadastrar">
        <button type="submit" routerLink="pacientes/novo-paciente">Cadastrar Paciente</button>
      </div>
        <div class="campo-paciente">
          <h2 class="titulo-tabela">Listagem do Cadastro</h2>

        <div class="tabela-bord">
           <div class="table-container">
            <p-table
            #dtListagemPaciente
            dataKey="id"
            [value]="pacientes"
            [tableStyle]="{ 'min-width': '50rem' }"
            [globalFilterFields]="[
                'name',
            ]"
            editMode="row"
          >


            <ng-template pTemplate="header">
                <tr>
                    <th>Nome</th>
                    <th>CPF</th>
                    <th>Telefone</th>
                    <th>Endereço</th>
                    <th>Ações</th>
                </tr>
                <tr>
                  <th>
                      <p-columnFilter
                          type="text"
                          field="nome"
                          placeholder="Search by nome"
                          ariaLabel="Filter Nome" />
                  </th>
                  <th>
                      <p-columnFilter
                          type="text"
                          field="cpf"
                          placeholder="Search by cpf"
                          ariaLabel="Filter cpf" />
                  </th>

                  <th>
                    <p-columnFilter
                        type="text"
                        field="telefone"
                        placeholder="Search by telefone"
                        ariaLabel="Filter telefone" />
                </th>

                  <th>
                    <p-columnFilter
                        type="text"
                        field="endereco"
                        placeholder="Search by endereco"
                        ariaLabel="Filter endereco" />
                  </th>
                  <th></th>
            </tr>
            </ng-template>
            <ng-template pTemplate="body" let-pacientes  let-editing="editing" let-ri="rowIndex">

                <tr>
                    <td>{{ pacientes.nome }}</td>
                    <td>{{ pacientes.cpf | cpfFormat }}</td>
                    <td>{{ pacientes.telefone | telefoneFormat }}</td>
                    <td>Cep: {{ pacientes.endereco.cep}} - {{pacientes.endereco.cidade}}</td>
                    <th>
                      <button
                    (click)="editarCadastro(pacientes)"
                      >
                        <fa-icon [icon]="faEdit"></fa-icon>
                      </button>

                      <button
                      (click)="cancelarCadastro(pacientes)"
                      >
                        <fa-icon [icon]="faTrash"></fa-icon>

                     </button>

                    </th>
                </tr>
            </ng-template>
        </p-table>


           </div>
        </div>


        </div>
  </section>
</main>

<footer>
  <app-rodape></app-rodape>
</footer>

